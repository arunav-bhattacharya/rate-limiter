quarkus:
  live-reload:
    enabled: false
  datasource:
    db-kind: oracle
    username: ${DB_USERNAME:rate_limiter}
    password: ${DB_PASSWORD:rate_limiter}
    jdbc:
      url: ${DB_URL:jdbc:oracle:thin:@localhost:1521/ORCLPDB1}
      min-size: 35
      max-size: 60
      acquisition-timeout: 10S
      idle-removal-timeout: 5M
      background-validation-interval: 2M
      leak-detection-interval: 10S
      new-connection-sql: SELECT 1 FROM DUAL

  log:
    category:
      "com.payments.ratelimiter":
        level: DEBUG
      "org.jetbrains.exposed":
        level: INFO

rate-limiter:
  default-config-name: default
  headroom-windows: 100
  max-search-chunks: 10
  max-windows-in-chunk: 100
  max-chunks-to-search: 2

# Test profile â€” longer timeouts for Oracle XE under ARM emulation
"%test":
  quarkus:
    datasource:
      jdbc:
        acquisition-timeout: 60S
